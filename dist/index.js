var CK=Object.create;var{getPrototypeOf:TK,defineProperty:uB,getOwnPropertyNames:GK}=Object;var OK=Object.prototype.hasOwnProperty;var jK=(P,b,A)=>{A=P!=null?CK(TK(P)):{};let V=b||!P||!P.__esModule?uB(A,"default",{value:P,enumerable:!0}):A;for(let f of GK(P))if(!OK.call(V,f))uB(V,f,{get:()=>P[f],enumerable:!0});return V};var Lz=(P,b)=>()=>(b||P((b={exports:{}}).exports,b),b.exports);var oB=Lz((hK,lB)=>{lB.exports=function(){function P(V,f){function K(){this.constructor=V}K.prototype=f.prototype,V.prototype=new K}function b(V,f,K,e,c,r){this.message=V,this.expected=f,this.found=K,this.offset=e,this.line=c,this.column=r,this.name="SyntaxError"}P(b,Error);function A(V){var f=arguments.length>1?arguments[1]:{},K={},e={start:HB},c=HB,r=[],Zz=function(){return kB},X=K,Bz="#",Jz={type:"literal",value:"#",description:'"#"'},u=void 0,D={type:"any",description:"any character"},i="[",G={type:"literal",value:"[",description:'"["'},l="]",C={type:"literal",value:"]",description:'"]"'},O=function(z){nz(L("ObjectPath",z,n,d))},v=function(z){nz(L("ArrayPath",z,n,d))},m=function(z,J){return z.concat(J)},F=function(z){return[z]},_=function(z){return z},k=".",g={type:"literal",value:".",description:'"."'},h="=",p={type:"literal",value:"=",description:'"="'},s=function(z,J){nz(L("Assign",J,n,d,z))},DB=function(z){return z.join("")},Iz=function(z){return z.value},Qz='"""',bz={type:"literal",value:'"""',description:'"\\"\\"\\""'},Kz=null,wz=function(z){return L("String",z.join(""),n,d)},_z='"',Pz={type:"literal",value:'"',description:'"\\""'},Yz="'''",vz={type:"literal",value:"'''",description:`"'''"`},mz="'",xz={type:"literal",value:"'",description:`"'"`},Sz=function(z){return z},iB=function(z){return z},tB="\\",aB={type:"literal",value:"\\",description:'"\\\\"'},$B=function(){return""},cB="e",gB={type:"literal",value:"e",description:'"e"'},pB="E",eB={type:"literal",value:"E",description:'"E"'},sB=function(z,J){return L("Float",parseFloat(z+"e"+J),n,d)},zJ=function(z){return L("Float",parseFloat(z),n,d)},fz="+",kz={type:"literal",value:"+",description:'"+"'},Ez=function(z){return z.join("")},Vz="-",Mz={type:"literal",value:"-",description:'"-"'},Az=function(z){return"-"+z.join("")},BJ=function(z){return L("Integer",parseInt(z,10),n,d)},Dz="true",JJ={type:"literal",value:"true",description:'"true"'},KJ=function(){return L("Boolean",!0,n,d)},iz="false",QJ={type:"literal",value:"false",description:'"false"'},YJ=function(){return L("Boolean",!1,n,d)},WJ=function(){return L("Array",[],n,d)},XJ=function(z){return L("Array",z?[z]:[],n,d)},ZJ=function(z){return L("Array",z,n,d)},VJ=function(z,J){return L("Array",z.concat(J),n,d)},tz=function(z){return z},az=",",$z={type:"literal",value:",",description:'","'},MJ="{",HJ={type:"literal",value:"{",description:'"{"'},NJ="}",UJ={type:"literal",value:"}",description:'"}"'},qJ=function(z){return L("InlineTable",z,n,d)},cz=function(z,J){return L("InlineTableValue",J,n,d,z)},RJ=function(z){return"."+z},wJ=function(z){return z.join("")},Hz=":",Nz={type:"literal",value:":",description:'":"'},gz=function(z){return z.join("")},pz="T",ez={type:"literal",value:"T",description:'"T"'},CJ="Z",TJ={type:"literal",value:"Z",description:'"Z"'},GJ=function(z,J){return L("Date",new Date(z+"T"+J+"Z"),n,d)},OJ=function(z,J){return L("Date",new Date(z+"T"+J),n,d)},jJ=/^[ \t]/,bJ={type:"class",value:"[ \\t]",description:"[ \\t]"},sz=`
`,zB={type:"literal",value:`
`,description:'"\\n"'},_J="\r",PJ={type:"literal",value:"\r",description:'"\\r"'},vJ=/^[0-9a-f]/i,mJ={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},xJ=/^[0-9]/,SJ={type:"class",value:"[0-9]",description:"[0-9]"},fJ="_",kJ={type:"literal",value:"_",description:'"_"'},yJ=function(){return""},uJ=/^[A-Za-z0-9_\-]/,lJ={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},oJ=function(z){return z.join("")},BB="\\\"",rJ={type:"literal",value:"\\\"",description:'"\\\\\\""'},hJ=function(){return'"'},JB="\\\\",nJ={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},dJ=function(){return"\\"},KB="\\b",LJ={type:"literal",value:"\\b",description:'"\\\\b"'},FJ=function(){return"\b"},QB="\\t",IJ={type:"literal",value:"\\t",description:'"\\\\t"'},EJ=function(){return"\t"},YB="\\n",AJ={type:"literal",value:"\\n",description:'"\\\\n"'},DJ=function(){return`
`},WB="\\f",iJ={type:"literal",value:"\\f",description:'"\\\\f"'},tJ=function(){return"\f"},XB="\\r",aJ={type:"literal",value:"\\r",description:'"\\\\r"'},$J=function(){return"\r"},ZB="\\U",cJ={type:"literal",value:"\\U",description:'"\\\\U"'},VB=function(z){return RK(z.join(""))},MB="\\u",gJ={type:"literal",value:"\\u",description:'"\\\\u"'},B=0,R=0,Uz=0,yz={line:1,column:1,seenCR:!1},Cz=0,uz=[],H=0,N={},Tz;if("startRule"in f){if(!(f.startRule in e))throw Error(`Can't start parsing from rule "`+f.startRule+'".');c=e[f.startRule]}function yK(){return V.substring(R,B)}function uK(){return R}function n(){return lz(R).line}function d(){return lz(R).column}function lK(z){throw oz(null,[{type:"other",description:z}],R)}function oK(z){throw oz(z,null,R)}function lz(z){function J(Q,Y,W){var Z,M;for(Z=Y;Z<W;Z++)if(M=V.charAt(Z),M===`
`){if(!Q.seenCR)Q.line++;Q.column=1,Q.seenCR=!1}else if(M==="\r"||M==="\u2028"||M==="\u2029")Q.line++,Q.column=1,Q.seenCR=!0;else Q.column++,Q.seenCR=!1}if(Uz!==z){if(Uz>z)Uz=0,yz={line:1,column:1,seenCR:!1};J(yz,Uz,z),Uz=z}return yz}function U(z){if(B<Cz)return;if(B>Cz)Cz=B,uz=[];uz.push(z)}function oz(z,J,Q){function Y(q){var T=1;q.sort(function(S,j){if(S.description<j.description)return-1;else if(S.description>j.description)return 1;else return 0});while(T<q.length)if(q[T-1]===q[T])q.splice(T,1);else T++}function W(q,T){function S(Xz){function zz(E){return E.charCodeAt(0).toString(16).toUpperCase()}return Xz.replace(/\\/g,"\\\\").replace(/"/g,"\\\"").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(E){return"\\x0"+zz(E)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(E){return"\\x"+zz(E)}).replace(/[\u0180-\u0FFF]/g,function(E){return"\\u0"+zz(E)}).replace(/[\u1080-\uFFFF]/g,function(E){return"\\u"+zz(E)})}var j=Array(q.length),y,o,I;for(I=0;I<q.length;I++)j[I]=q[I].description;return y=q.length>1?j.slice(0,-1).join(", ")+" or "+j[q.length-1]:j[0],o=T?'"'+S(T)+'"':"end of input","Expected "+y+" but "+o+" found."}var Z=lz(Q),M=Q<V.length?V.charAt(Q):null;if(J!==null)Y(J);return new b(z!==null?z:W(J,M),J,M,Q,Z.line,Z.column)}function HB(){var z,J,Q,Y=B*49+0,W=N[Y];if(W)return B=W.nextPos,W.result;z=B,J=[],Q=NB();while(Q!==K)J.push(Q),Q=NB();if(J!==K)R=z,J=Zz();return z=J,N[Y]={nextPos:B,result:z},z}function NB(){var z,J,Q,Y,W,Z,M,q=B*49+1,T=N[q];if(T)return B=T.nextPos,T.result;z=B,J=[],Q=w();while(Q!==K)J.push(Q),Q=w();if(J!==K)if(Q=pJ(),Q!==K){Y=[],W=w();while(W!==K)Y.push(W),W=w();if(Y!==K){W=[],Z=Gz();while(Z!==K)W.push(Z),Z=Gz();if(W!==K){if(Z=[],M=a(),M!==K)while(M!==K)Z.push(M),M=a();else Z=X;if(Z===K)Z=jz();if(Z!==K)J=[J,Q,Y,W,Z],z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X}else B=z,z=X;else B=z,z=X;if(z===K){if(z=B,J=[],Q=w(),Q!==K)while(Q!==K)J.push(Q),Q=w();else J=X;if(J!==K){if(Q=[],Y=a(),Y!==K)while(Y!==K)Q.push(Y),Y=a();else Q=X;if(Q===K)Q=jz();if(Q!==K)J=[J,Q],z=J;else B=z,z=X}else B=z,z=X;if(z===K)z=a()}return N[q]={nextPos:B,result:z},z}function pJ(){var z,J=B*49+2,Q=N[J];if(Q)return B=Q.nextPos,Q.result;if(z=Gz(),z===K){if(z=eJ(),z===K){if(z=sJ(),z===K)z=zK()}}return N[J]={nextPos:B,result:z},z}function Gz(){var z,J,Q,Y,W,Z,M=B*49+3,q=N[M];if(q)return B=q.nextPos,q.result;if(z=B,V.charCodeAt(B)===35)J=Bz,B++;else if(J=K,H===0)U(Jz);if(J!==K){if(Q=[],Y=B,W=B,H++,Z=a(),Z===K)Z=jz();if(H--,Z===K)W=u;else B=W,W=X;if(W!==K){if(V.length>B)Z=V.charAt(B),B++;else if(Z=K,H===0)U(D);if(Z!==K)W=[W,Z],Y=W;else B=Y,Y=X}else B=Y,Y=X;while(Y!==K){if(Q.push(Y),Y=B,W=B,H++,Z=a(),Z===K)Z=jz();if(H--,Z===K)W=u;else B=W,W=X;if(W!==K){if(V.length>B)Z=V.charAt(B),B++;else if(Z=K,H===0)U(D);if(Z!==K)W=[W,Z],Y=W;else B=Y,Y=X}else B=Y,Y=X}if(Q!==K)J=[J,Q],z=J;else B=z,z=X}else B=z,z=X;return N[M]={nextPos:B,result:z},z}function eJ(){var z,J,Q,Y,W,Z,M=B*49+4,q=N[M];if(q)return B=q.nextPos,q.result;if(z=B,V.charCodeAt(B)===91)J=i,B++;else if(J=K,H===0)U(G);if(J!==K){Q=[],Y=w();while(Y!==K)Q.push(Y),Y=w();if(Q!==K)if(Y=UB(),Y!==K){W=[],Z=w();while(Z!==K)W.push(Z),Z=w();if(W!==K){if(V.charCodeAt(B)===93)Z=l,B++;else if(Z=K,H===0)U(C);if(Z!==K)R=z,J=O(Y),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X;else B=z,z=X}else B=z,z=X;return N[M]={nextPos:B,result:z},z}function sJ(){var z,J,Q,Y,W,Z,M,q,T=B*49+5,S=N[T];if(S)return B=S.nextPos,S.result;if(z=B,V.charCodeAt(B)===91)J=i,B++;else if(J=K,H===0)U(G);if(J!==K){if(V.charCodeAt(B)===91)Q=i,B++;else if(Q=K,H===0)U(G);if(Q!==K){Y=[],W=w();while(W!==K)Y.push(W),W=w();if(Y!==K)if(W=UB(),W!==K){Z=[],M=w();while(M!==K)Z.push(M),M=w();if(Z!==K){if(V.charCodeAt(B)===93)M=l,B++;else if(M=K,H===0)U(C);if(M!==K){if(V.charCodeAt(B)===93)q=l,B++;else if(q=K,H===0)U(C);if(q!==K)R=z,J=v(W),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X}else B=z,z=X;else B=z,z=X}else B=z,z=X}else B=z,z=X;return N[T]={nextPos:B,result:z},z}function UB(){var z,J,Q,Y=B*49+6,W=N[Y];if(W)return B=W.nextPos,W.result;if(z=B,J=[],Q=RB(),Q!==K)while(Q!==K)J.push(Q),Q=RB();else J=X;if(J!==K)if(Q=qB(),Q!==K)R=z,J=m(J,Q),z=J;else B=z,z=X;else B=z,z=X;if(z===K){if(z=B,J=qB(),J!==K)R=z,J=F(J);z=J}return N[Y]={nextPos:B,result:z},z}function qB(){var z,J,Q,Y,W,Z=B*49+7,M=N[Z];if(M)return B=M.nextPos,M.result;z=B,J=[],Q=w();while(Q!==K)J.push(Q),Q=w();if(J!==K)if(Q=qz(),Q!==K){Y=[],W=w();while(W!==K)Y.push(W),W=w();if(Y!==K)R=z,J=_(Q),z=J;else B=z,z=X}else B=z,z=X;else B=z,z=X;if(z===K){z=B,J=[],Q=w();while(Q!==K)J.push(Q),Q=w();if(J!==K)if(Q=rz(),Q!==K){Y=[],W=w();while(W!==K)Y.push(W),W=w();if(Y!==K)R=z,J=_(Q),z=J;else B=z,z=X}else B=z,z=X;else B=z,z=X}return N[Z]={nextPos:B,result:z},z}function RB(){var z,J,Q,Y,W,Z,M,q=B*49+8,T=N[q];if(T)return B=T.nextPos,T.result;z=B,J=[],Q=w();while(Q!==K)J.push(Q),Q=w();if(J!==K)if(Q=qz(),Q!==K){Y=[],W=w();while(W!==K)Y.push(W),W=w();if(Y!==K){if(V.charCodeAt(B)===46)W=k,B++;else if(W=K,H===0)U(g);if(W!==K){Z=[],M=w();while(M!==K)Z.push(M),M=w();if(Z!==K)R=z,J=_(Q),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X}else B=z,z=X;else B=z,z=X;if(z===K){z=B,J=[],Q=w();while(Q!==K)J.push(Q),Q=w();if(J!==K)if(Q=rz(),Q!==K){Y=[],W=w();while(W!==K)Y.push(W),W=w();if(Y!==K){if(V.charCodeAt(B)===46)W=k,B++;else if(W=K,H===0)U(g);if(W!==K){Z=[],M=w();while(M!==K)Z.push(M),M=w();if(Z!==K)R=z,J=_(Q),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X}else B=z,z=X;else B=z,z=X}return N[q]={nextPos:B,result:z},z}function zK(){var z,J,Q,Y,W,Z,M=B*49+9,q=N[M];if(q)return B=q.nextPos,q.result;if(z=B,J=qz(),J!==K){Q=[],Y=w();while(Y!==K)Q.push(Y),Y=w();if(Q!==K){if(V.charCodeAt(B)===61)Y=h,B++;else if(Y=K,H===0)U(p);if(Y!==K){W=[],Z=w();while(Z!==K)W.push(Z),Z=w();if(W!==K)if(Z=Wz(),Z!==K)R=z,J=s(J,Z),z=J;else B=z,z=X;else B=z,z=X}else B=z,z=X}else B=z,z=X}else B=z,z=X;if(z===K)if(z=B,J=rz(),J!==K){Q=[],Y=w();while(Y!==K)Q.push(Y),Y=w();if(Q!==K){if(V.charCodeAt(B)===61)Y=h,B++;else if(Y=K,H===0)U(p);if(Y!==K){W=[],Z=w();while(Z!==K)W.push(Z),Z=w();if(W!==K)if(Z=Wz(),Z!==K)R=z,J=s(J,Z),z=J;else B=z,z=X;else B=z,z=X}else B=z,z=X}else B=z,z=X}else B=z,z=X;return N[M]={nextPos:B,result:z},z}function qz(){var z,J,Q,Y=B*49+10,W=N[Y];if(W)return B=W.nextPos,W.result;if(z=B,J=[],Q=SB(),Q!==K)while(Q!==K)J.push(Q),Q=SB();else J=X;if(J!==K)R=z,J=DB(J);return z=J,N[Y]={nextPos:B,result:z},z}function rz(){var z,J,Q=B*49+11,Y=N[Q];if(Y)return B=Y.nextPos,Y.result;if(z=B,J=wB(),J!==K)R=z,J=Iz(J);if(z=J,z===K){if(z=B,J=CB(),J!==K)R=z,J=Iz(J);z=J}return N[Q]={nextPos:B,result:z},z}function Wz(){var z,J=B*49+12,Q=N[J];if(Q)return B=Q.nextPos,Q.result;if(z=BK(),z===K){if(z=NK(),z===K){if(z=YK(),z===K){if(z=WK(),z===K){if(z=XK(),z===K){if(z=ZK(),z===K)z=VK()}}}}}return N[J]={nextPos:B,result:z},z}function BK(){var z,J=B*49+13,Q=N[J];if(Q)return B=Q.nextPos,Q.result;if(z=JK(),z===K){if(z=wB(),z===K){if(z=KK(),z===K)z=CB()}}return N[J]={nextPos:B,result:z},z}function JK(){var z,J,Q,Y,W,Z=B*49+14,M=N[Z];if(M)return B=M.nextPos,M.result;if(z=B,V.substr(B,3)===Qz)J=Qz,B+=3;else if(J=K,H===0)U(bz);if(J!==K){if(Q=a(),Q===K)Q=Kz;if(Q!==K){Y=[],W=OB();while(W!==K)Y.push(W),W=OB();if(Y!==K){if(V.substr(B,3)===Qz)W=Qz,B+=3;else if(W=K,H===0)U(bz);if(W!==K)R=z,J=wz(Y),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X}else B=z,z=X;return N[Z]={nextPos:B,result:z},z}function wB(){var z,J,Q,Y,W=B*49+15,Z=N[W];if(Z)return B=Z.nextPos,Z.result;if(z=B,V.charCodeAt(B)===34)J=_z,B++;else if(J=K,H===0)U(Pz);if(J!==K){Q=[],Y=TB();while(Y!==K)Q.push(Y),Y=TB();if(Q!==K){if(V.charCodeAt(B)===34)Y=_z,B++;else if(Y=K,H===0)U(Pz);if(Y!==K)R=z,J=wz(Q),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X;return N[W]={nextPos:B,result:z},z}function KK(){var z,J,Q,Y,W,Z=B*49+16,M=N[Z];if(M)return B=M.nextPos,M.result;if(z=B,V.substr(B,3)===Yz)J=Yz,B+=3;else if(J=K,H===0)U(vz);if(J!==K){if(Q=a(),Q===K)Q=Kz;if(Q!==K){Y=[],W=jB();while(W!==K)Y.push(W),W=jB();if(Y!==K){if(V.substr(B,3)===Yz)W=Yz,B+=3;else if(W=K,H===0)U(vz);if(W!==K)R=z,J=wz(Y),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X}else B=z,z=X;return N[Z]={nextPos:B,result:z},z}function CB(){var z,J,Q,Y,W=B*49+17,Z=N[W];if(Z)return B=Z.nextPos,Z.result;if(z=B,V.charCodeAt(B)===39)J=mz,B++;else if(J=K,H===0)U(xz);if(J!==K){Q=[],Y=GB();while(Y!==K)Q.push(Y),Y=GB();if(Q!==K){if(V.charCodeAt(B)===39)Y=mz,B++;else if(Y=K,H===0)U(xz);if(Y!==K)R=z,J=wz(Q),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X;return N[W]={nextPos:B,result:z},z}function TB(){var z,J,Q,Y=B*49+18,W=N[Y];if(W)return B=W.nextPos,W.result;if(z=fB(),z===K){if(z=B,J=B,H++,V.charCodeAt(B)===34)Q=_z,B++;else if(Q=K,H===0)U(Pz);if(H--,Q===K)J=u;else B=J,J=X;if(J!==K){if(V.length>B)Q=V.charAt(B),B++;else if(Q=K,H===0)U(D);if(Q!==K)R=z,J=Sz(Q),z=J;else B=z,z=X}else B=z,z=X}return N[Y]={nextPos:B,result:z},z}function GB(){var z,J,Q,Y=B*49+19,W=N[Y];if(W)return B=W.nextPos,W.result;if(z=B,J=B,H++,V.charCodeAt(B)===39)Q=mz,B++;else if(Q=K,H===0)U(xz);if(H--,Q===K)J=u;else B=J,J=X;if(J!==K){if(V.length>B)Q=V.charAt(B),B++;else if(Q=K,H===0)U(D);if(Q!==K)R=z,J=Sz(Q),z=J;else B=z,z=X}else B=z,z=X;return N[Y]={nextPos:B,result:z},z}function OB(){var z,J,Q,Y=B*49+20,W=N[Y];if(W)return B=W.nextPos,W.result;if(z=fB(),z===K){if(z=QK(),z===K){if(z=B,J=B,H++,V.substr(B,3)===Qz)Q=Qz,B+=3;else if(Q=K,H===0)U(bz);if(H--,Q===K)J=u;else B=J,J=X;if(J!==K){if(V.length>B)Q=V.charAt(B),B++;else if(Q=K,H===0)U(D);if(Q!==K)R=z,J=iB(Q),z=J;else B=z,z=X}else B=z,z=X}}return N[Y]={nextPos:B,result:z},z}function QK(){var z,J,Q,Y,W,Z=B*49+21,M=N[Z];if(M)return B=M.nextPos,M.result;if(z=B,V.charCodeAt(B)===92)J=tB,B++;else if(J=K,H===0)U(aB);if(J!==K)if(Q=a(),Q!==K){Y=[],W=xB();while(W!==K)Y.push(W),W=xB();if(Y!==K)R=z,J=$B(),z=J;else B=z,z=X}else B=z,z=X;else B=z,z=X;return N[Z]={nextPos:B,result:z},z}function jB(){var z,J,Q,Y=B*49+22,W=N[Y];if(W)return B=W.nextPos,W.result;if(z=B,J=B,H++,V.substr(B,3)===Yz)Q=Yz,B+=3;else if(Q=K,H===0)U(vz);if(H--,Q===K)J=u;else B=J,J=X;if(J!==K){if(V.length>B)Q=V.charAt(B),B++;else if(Q=K,H===0)U(D);if(Q!==K)R=z,J=Sz(Q),z=J;else B=z,z=X}else B=z,z=X;return N[Y]={nextPos:B,result:z},z}function YK(){var z,J,Q,Y,W=B*49+23,Z=N[W];if(Z)return B=Z.nextPos,Z.result;if(z=B,J=bB(),J===K)J=hz();if(J!==K){if(V.charCodeAt(B)===101)Q=cB,B++;else if(Q=K,H===0)U(gB);if(Q===K){if(V.charCodeAt(B)===69)Q=pB,B++;else if(Q=K,H===0)U(eB)}if(Q!==K)if(Y=hz(),Y!==K)R=z,J=sB(J,Y),z=J;else B=z,z=X;else B=z,z=X}else B=z,z=X;if(z===K){if(z=B,J=bB(),J!==K)R=z,J=zJ(J);z=J}return N[W]={nextPos:B,result:z},z}function bB(){var z,J,Q,Y,W,Z,M=B*49+24,q=N[M];if(q)return B=q.nextPos,q.result;if(z=B,V.charCodeAt(B)===43)J=fz,B++;else if(J=K,H===0)U(kz);if(J===K)J=Kz;if(J!==K){if(Q=B,Y=Rz(),Y!==K){if(V.charCodeAt(B)===46)W=k,B++;else if(W=K,H===0)U(g);if(W!==K)if(Z=Rz(),Z!==K)Y=[Y,W,Z],Q=Y;else B=Q,Q=X;else B=Q,Q=X}else B=Q,Q=X;if(Q!==K)R=z,J=Ez(Q),z=J;else B=z,z=X}else B=z,z=X;if(z===K){if(z=B,V.charCodeAt(B)===45)J=Vz,B++;else if(J=K,H===0)U(Mz);if(J!==K){if(Q=B,Y=Rz(),Y!==K){if(V.charCodeAt(B)===46)W=k,B++;else if(W=K,H===0)U(g);if(W!==K)if(Z=Rz(),Z!==K)Y=[Y,W,Z],Q=Y;else B=Q,Q=X;else B=Q,Q=X}else B=Q,Q=X;if(Q!==K)R=z,J=Az(Q),z=J;else B=z,z=X}else B=z,z=X}return N[M]={nextPos:B,result:z},z}function WK(){var z,J,Q=B*49+25,Y=N[Q];if(Y)return B=Y.nextPos,Y.result;if(z=B,J=hz(),J!==K)R=z,J=BJ(J);return z=J,N[Q]={nextPos:B,result:z},z}function hz(){var z,J,Q,Y,W,Z=B*49+26,M=N[Z];if(M)return B=M.nextPos,M.result;if(z=B,V.charCodeAt(B)===43)J=fz,B++;else if(J=K,H===0)U(kz);if(J===K)J=Kz;if(J!==K){if(Q=[],Y=x(),Y!==K)while(Y!==K)Q.push(Y),Y=x();else Q=X;if(Q!==K){if(Y=B,H++,V.charCodeAt(B)===46)W=k,B++;else if(W=K,H===0)U(g);if(H--,W===K)Y=u;else B=Y,Y=X;if(Y!==K)R=z,J=Ez(Q),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X;if(z===K){if(z=B,V.charCodeAt(B)===45)J=Vz,B++;else if(J=K,H===0)U(Mz);if(J!==K){if(Q=[],Y=x(),Y!==K)while(Y!==K)Q.push(Y),Y=x();else Q=X;if(Q!==K){if(Y=B,H++,V.charCodeAt(B)===46)W=k,B++;else if(W=K,H===0)U(g);if(H--,W===K)Y=u;else B=Y,Y=X;if(Y!==K)R=z,J=Az(Q),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X}return N[Z]={nextPos:B,result:z},z}function XK(){var z,J,Q=B*49+27,Y=N[Q];if(Y)return B=Y.nextPos,Y.result;if(z=B,V.substr(B,4)===Dz)J=Dz,B+=4;else if(J=K,H===0)U(JJ);if(J!==K)R=z,J=KJ();if(z=J,z===K){if(z=B,V.substr(B,5)===iz)J=iz,B+=5;else if(J=K,H===0)U(QJ);if(J!==K)R=z,J=YJ();z=J}return N[Q]={nextPos:B,result:z},z}function ZK(){var z,J,Q,Y,W,Z=B*49+28,M=N[Z];if(M)return B=M.nextPos,M.result;if(z=B,V.charCodeAt(B)===91)J=i,B++;else if(J=K,H===0)U(G);if(J!==K){Q=[],Y=t();while(Y!==K)Q.push(Y),Y=t();if(Q!==K){if(V.charCodeAt(B)===93)Y=l,B++;else if(Y=K,H===0)U(C);if(Y!==K)R=z,J=WJ(),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X;if(z===K){if(z=B,V.charCodeAt(B)===91)J=i,B++;else if(J=K,H===0)U(G);if(J!==K){if(Q=_B(),Q===K)Q=Kz;if(Q!==K){if(V.charCodeAt(B)===93)Y=l,B++;else if(Y=K,H===0)U(C);if(Y!==K)R=z,J=XJ(Q),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X;if(z===K){if(z=B,V.charCodeAt(B)===91)J=i,B++;else if(J=K,H===0)U(G);if(J!==K){if(Q=[],Y=Oz(),Y!==K)while(Y!==K)Q.push(Y),Y=Oz();else Q=X;if(Q!==K){if(V.charCodeAt(B)===93)Y=l,B++;else if(Y=K,H===0)U(C);if(Y!==K)R=z,J=ZJ(Q),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X;if(z===K){if(z=B,V.charCodeAt(B)===91)J=i,B++;else if(J=K,H===0)U(G);if(J!==K){if(Q=[],Y=Oz(),Y!==K)while(Y!==K)Q.push(Y),Y=Oz();else Q=X;if(Q!==K)if(Y=_B(),Y!==K){if(V.charCodeAt(B)===93)W=l,B++;else if(W=K,H===0)U(C);if(W!==K)R=z,J=VJ(Q,Y),z=J;else B=z,z=X}else B=z,z=X;else B=z,z=X}else B=z,z=X}}}return N[Z]={nextPos:B,result:z},z}function _B(){var z,J,Q,Y,W,Z=B*49+29,M=N[Z];if(M)return B=M.nextPos,M.result;z=B,J=[],Q=t();while(Q!==K)J.push(Q),Q=t();if(J!==K)if(Q=Wz(),Q!==K){Y=[],W=t();while(W!==K)Y.push(W),W=t();if(Y!==K)R=z,J=tz(Q),z=J;else B=z,z=X}else B=z,z=X;else B=z,z=X;return N[Z]={nextPos:B,result:z},z}function Oz(){var z,J,Q,Y,W,Z,M,q=B*49+30,T=N[q];if(T)return B=T.nextPos,T.result;z=B,J=[],Q=t();while(Q!==K)J.push(Q),Q=t();if(J!==K)if(Q=Wz(),Q!==K){Y=[],W=t();while(W!==K)Y.push(W),W=t();if(Y!==K){if(V.charCodeAt(B)===44)W=az,B++;else if(W=K,H===0)U($z);if(W!==K){Z=[],M=t();while(M!==K)Z.push(M),M=t();if(Z!==K)R=z,J=tz(Q),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X}else B=z,z=X;else B=z,z=X;return N[q]={nextPos:B,result:z},z}function t(){var z,J=B*49+31,Q=N[J];if(Q)return B=Q.nextPos,Q.result;if(z=w(),z===K){if(z=a(),z===K)z=Gz()}return N[J]={nextPos:B,result:z},z}function VK(){var z,J,Q,Y,W,Z,M=B*49+32,q=N[M];if(q)return B=q.nextPos,q.result;if(z=B,V.charCodeAt(B)===123)J=MJ,B++;else if(J=K,H===0)U(HJ);if(J!==K){Q=[],Y=w();while(Y!==K)Q.push(Y),Y=w();if(Q!==K){Y=[],W=PB();while(W!==K)Y.push(W),W=PB();if(Y!==K){W=[],Z=w();while(Z!==K)W.push(Z),Z=w();if(W!==K){if(V.charCodeAt(B)===125)Z=NJ,B++;else if(Z=K,H===0)U(UJ);if(Z!==K)R=z,J=qJ(Y),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X}else B=z,z=X}else B=z,z=X;return N[M]={nextPos:B,result:z},z}function PB(){var z,J,Q,Y,W,Z,M,q,T,S,j,y=B*49+33,o=N[y];if(o)return B=o.nextPos,o.result;z=B,J=[],Q=w();while(Q!==K)J.push(Q),Q=w();if(J!==K)if(Q=qz(),Q!==K){Y=[],W=w();while(W!==K)Y.push(W),W=w();if(Y!==K){if(V.charCodeAt(B)===61)W=h,B++;else if(W=K,H===0)U(p);if(W!==K){Z=[],M=w();while(M!==K)Z.push(M),M=w();if(Z!==K)if(M=Wz(),M!==K){q=[],T=w();while(T!==K)q.push(T),T=w();if(q!==K){if(V.charCodeAt(B)===44)T=az,B++;else if(T=K,H===0)U($z);if(T!==K){S=[],j=w();while(j!==K)S.push(j),j=w();if(S!==K)R=z,J=cz(Q,M),z=J;else B=z,z=X}else B=z,z=X}else B=z,z=X}else B=z,z=X;else B=z,z=X}else B=z,z=X}else B=z,z=X}else B=z,z=X;else B=z,z=X;if(z===K){z=B,J=[],Q=w();while(Q!==K)J.push(Q),Q=w();if(J!==K)if(Q=qz(),Q!==K){Y=[],W=w();while(W!==K)Y.push(W),W=w();if(Y!==K){if(V.charCodeAt(B)===61)W=h,B++;else if(W=K,H===0)U(p);if(W!==K){Z=[],M=w();while(M!==K)Z.push(M),M=w();if(Z!==K)if(M=Wz(),M!==K)R=z,J=cz(Q,M),z=J;else B=z,z=X;else B=z,z=X}else B=z,z=X}else B=z,z=X}else B=z,z=X;else B=z,z=X}return N[y]={nextPos:B,result:z},z}function vB(){var z,J,Q,Y=B*49+34,W=N[Y];if(W)return B=W.nextPos,W.result;if(z=B,V.charCodeAt(B)===46)J=k,B++;else if(J=K,H===0)U(g);if(J!==K)if(Q=Rz(),Q!==K)R=z,J=RJ(Q),z=J;else B=z,z=X;else B=z,z=X;return N[Y]={nextPos:B,result:z},z}function mB(){var z,J,Q,Y,W,Z,M,q,T,S,j,y,o=B*49+35,I=N[o];if(I)return B=I.nextPos,I.result;if(z=B,J=B,Q=x(),Q!==K)if(Y=x(),Y!==K)if(W=x(),W!==K)if(Z=x(),Z!==K){if(V.charCodeAt(B)===45)M=Vz,B++;else if(M=K,H===0)U(Mz);if(M!==K)if(q=x(),q!==K)if(T=x(),T!==K){if(V.charCodeAt(B)===45)S=Vz,B++;else if(S=K,H===0)U(Mz);if(S!==K)if(j=x(),j!==K)if(y=x(),y!==K)Q=[Q,Y,W,Z,M,q,T,S,j,y],J=Q;else B=J,J=X;else B=J,J=X;else B=J,J=X}else B=J,J=X;else B=J,J=X;else B=J,J=X}else B=J,J=X;else B=J,J=X;else B=J,J=X;else B=J,J=X;if(J!==K)R=z,J=wJ(J);return z=J,N[o]={nextPos:B,result:z},z}function MK(){var z,J,Q,Y,W,Z,M,q,T,S,j,y=B*49+36,o=N[y];if(o)return B=o.nextPos,o.result;if(z=B,J=B,Q=x(),Q!==K)if(Y=x(),Y!==K){if(V.charCodeAt(B)===58)W=Hz,B++;else if(W=K,H===0)U(Nz);if(W!==K)if(Z=x(),Z!==K)if(M=x(),M!==K){if(V.charCodeAt(B)===58)q=Hz,B++;else if(q=K,H===0)U(Nz);if(q!==K)if(T=x(),T!==K)if(S=x(),S!==K){if(j=vB(),j===K)j=Kz;if(j!==K)Q=[Q,Y,W,Z,M,q,T,S,j],J=Q;else B=J,J=X}else B=J,J=X;else B=J,J=X;else B=J,J=X}else B=J,J=X;else B=J,J=X;else B=J,J=X}else B=J,J=X;else B=J,J=X;if(J!==K)R=z,J=gz(J);return z=J,N[y]={nextPos:B,result:z},z}function HK(){var z,J,Q,Y,W,Z,M,q,T,S,j,y,o,I,Xz,zz,E,yB=B*49+37,dz=N[yB];if(dz)return B=dz.nextPos,dz.result;if(z=B,J=B,Q=x(),Q!==K)if(Y=x(),Y!==K){if(V.charCodeAt(B)===58)W=Hz,B++;else if(W=K,H===0)U(Nz);if(W!==K)if(Z=x(),Z!==K)if(M=x(),M!==K){if(V.charCodeAt(B)===58)q=Hz,B++;else if(q=K,H===0)U(Nz);if(q!==K)if(T=x(),T!==K)if(S=x(),S!==K){if(j=vB(),j===K)j=Kz;if(j!==K){if(V.charCodeAt(B)===45)y=Vz,B++;else if(y=K,H===0)U(Mz);if(y===K){if(V.charCodeAt(B)===43)y=fz,B++;else if(y=K,H===0)U(kz)}if(y!==K)if(o=x(),o!==K)if(I=x(),I!==K){if(V.charCodeAt(B)===58)Xz=Hz,B++;else if(Xz=K,H===0)U(Nz);if(Xz!==K)if(zz=x(),zz!==K)if(E=x(),E!==K)Q=[Q,Y,W,Z,M,q,T,S,j,y,o,I,Xz,zz,E],J=Q;else B=J,J=X;else B=J,J=X;else B=J,J=X}else B=J,J=X;else B=J,J=X;else B=J,J=X}else B=J,J=X}else B=J,J=X;else B=J,J=X;else B=J,J=X}else B=J,J=X;else B=J,J=X;else B=J,J=X}else B=J,J=X;else B=J,J=X;if(J!==K)R=z,J=gz(J);return z=J,N[yB]={nextPos:B,result:z},z}function NK(){var z,J,Q,Y,W,Z=B*49+38,M=N[Z];if(M)return B=M.nextPos,M.result;if(z=B,J=mB(),J!==K){if(V.charCodeAt(B)===84)Q=pz,B++;else if(Q=K,H===0)U(ez);if(Q!==K)if(Y=MK(),Y!==K){if(V.charCodeAt(B)===90)W=CJ,B++;else if(W=K,H===0)U(TJ);if(W!==K)R=z,J=GJ(J,Y),z=J;else B=z,z=X}else B=z,z=X;else B=z,z=X}else B=z,z=X;if(z===K)if(z=B,J=mB(),J!==K){if(V.charCodeAt(B)===84)Q=pz,B++;else if(Q=K,H===0)U(ez);if(Q!==K)if(Y=HK(),Y!==K)R=z,J=OJ(J,Y),z=J;else B=z,z=X;else B=z,z=X}else B=z,z=X;return N[Z]={nextPos:B,result:z},z}function w(){var z,J=B*49+39,Q=N[J];if(Q)return B=Q.nextPos,Q.result;if(jJ.test(V.charAt(B)))z=V.charAt(B),B++;else if(z=K,H===0)U(bJ);return N[J]={nextPos:B,result:z},z}function a(){var z,J,Q,Y=B*49+40,W=N[Y];if(W)return B=W.nextPos,W.result;if(V.charCodeAt(B)===10)z=sz,B++;else if(z=K,H===0)U(zB);if(z===K){if(z=B,V.charCodeAt(B)===13)J=_J,B++;else if(J=K,H===0)U(PJ);if(J!==K){if(V.charCodeAt(B)===10)Q=sz,B++;else if(Q=K,H===0)U(zB);if(Q!==K)J=[J,Q],z=J;else B=z,z=X}else B=z,z=X}return N[Y]={nextPos:B,result:z},z}function xB(){var z,J=B*49+41,Q=N[J];if(Q)return B=Q.nextPos,Q.result;if(z=a(),z===K)z=w();return N[J]={nextPos:B,result:z},z}function jz(){var z,J,Q=B*49+42,Y=N[Q];if(Y)return B=Y.nextPos,Y.result;if(z=B,H++,V.length>B)J=V.charAt(B),B++;else if(J=K,H===0)U(D);if(H--,J===K)z=u;else B=z,z=X;return N[Q]={nextPos:B,result:z},z}function $(){var z,J=B*49+43,Q=N[J];if(Q)return B=Q.nextPos,Q.result;if(vJ.test(V.charAt(B)))z=V.charAt(B),B++;else if(z=K,H===0)U(mJ);return N[J]={nextPos:B,result:z},z}function x(){var z,J,Q=B*49+44,Y=N[Q];if(Y)return B=Y.nextPos,Y.result;if(xJ.test(V.charAt(B)))z=V.charAt(B),B++;else if(z=K,H===0)U(SJ);if(z===K){if(z=B,V.charCodeAt(B)===95)J=fJ,B++;else if(J=K,H===0)U(kJ);if(J!==K)R=z,J=yJ();z=J}return N[Q]={nextPos:B,result:z},z}function SB(){var z,J=B*49+45,Q=N[J];if(Q)return B=Q.nextPos,Q.result;if(uJ.test(V.charAt(B)))z=V.charAt(B),B++;else if(z=K,H===0)U(lJ);return N[J]={nextPos:B,result:z},z}function Rz(){var z,J,Q,Y=B*49+46,W=N[Y];if(W)return B=W.nextPos,W.result;if(z=B,J=[],Q=x(),Q!==K)while(Q!==K)J.push(Q),Q=x();else J=X;if(J!==K)R=z,J=oJ(J);return z=J,N[Y]={nextPos:B,result:z},z}function fB(){var z,J,Q=B*49+47,Y=N[Q];if(Y)return B=Y.nextPos,Y.result;if(z=B,V.substr(B,2)===BB)J=BB,B+=2;else if(J=K,H===0)U(rJ);if(J!==K)R=z,J=hJ();if(z=J,z===K){if(z=B,V.substr(B,2)===JB)J=JB,B+=2;else if(J=K,H===0)U(nJ);if(J!==K)R=z,J=dJ();if(z=J,z===K){if(z=B,V.substr(B,2)===KB)J=KB,B+=2;else if(J=K,H===0)U(LJ);if(J!==K)R=z,J=FJ();if(z=J,z===K){if(z=B,V.substr(B,2)===QB)J=QB,B+=2;else if(J=K,H===0)U(IJ);if(J!==K)R=z,J=EJ();if(z=J,z===K){if(z=B,V.substr(B,2)===YB)J=YB,B+=2;else if(J=K,H===0)U(AJ);if(J!==K)R=z,J=DJ();if(z=J,z===K){if(z=B,V.substr(B,2)===WB)J=WB,B+=2;else if(J=K,H===0)U(iJ);if(J!==K)R=z,J=tJ();if(z=J,z===K){if(z=B,V.substr(B,2)===XB)J=XB,B+=2;else if(J=K,H===0)U(aJ);if(J!==K)R=z,J=$J();if(z=J,z===K)z=UK()}}}}}}return N[Q]={nextPos:B,result:z},z}function UK(){var z,J,Q,Y,W,Z,M,q,T,S,j,y=B*49+48,o=N[y];if(o)return B=o.nextPos,o.result;if(z=B,V.substr(B,2)===ZB)J=ZB,B+=2;else if(J=K,H===0)U(cJ);if(J!==K){if(Q=B,Y=$(),Y!==K)if(W=$(),W!==K)if(Z=$(),Z!==K)if(M=$(),M!==K)if(q=$(),q!==K)if(T=$(),T!==K)if(S=$(),S!==K)if(j=$(),j!==K)Y=[Y,W,Z,M,q,T,S,j],Q=Y;else B=Q,Q=X;else B=Q,Q=X;else B=Q,Q=X;else B=Q,Q=X;else B=Q,Q=X;else B=Q,Q=X;else B=Q,Q=X;else B=Q,Q=X;if(Q!==K)R=z,J=VB(Q),z=J;else B=z,z=X}else B=z,z=X;if(z===K){if(z=B,V.substr(B,2)===MB)J=MB,B+=2;else if(J=K,H===0)U(gJ);if(J!==K){if(Q=B,Y=$(),Y!==K)if(W=$(),W!==K)if(Z=$(),Z!==K)if(M=$(),M!==K)Y=[Y,W,Z,M],Q=Y;else B=Q,Q=X;else B=Q,Q=X;else B=Q,Q=X;else B=Q,Q=X;if(Q!==K)R=z,J=VB(Q),z=J;else B=z,z=X}else B=z,z=X}return N[y]={nextPos:B,result:z},z}var kB=[];function qK(z,J,Q){var Y=Error(z);throw Y.line=J,Y.column=Q,Y}function nz(z){kB.push(z)}function L(z,J,Q,Y,W){var Z={type:z,value:J,line:Q(),column:Y()};if(W)Z.key=W;return Z}function RK(z,J,Q){var Y=parseInt("0x"+z);if(!isFinite(Y)||Math.floor(Y)!=Y||Y<0||Y>1114111||Y>55295&&Y<57344)qK("Invalid Unicode escape code: "+z,J,Q);else return wK(Y)}function wK(){var z=16384,J=[],Q,Y,W=-1,Z=arguments.length;if(!Z)return"";var M="";while(++W<Z){var q=Number(arguments[W]);if(q<=65535)J.push(q);else q-=65536,Q=(q>>10)+55296,Y=q%1024+56320,J.push(Q,Y);if(W+1==Z||J.length>z)M+=String.fromCharCode.apply(null,J),J.length=0}return M}if(Tz=c(),Tz!==K&&B===V.length)return Tz;else{if(Tz!==K&&B<V.length)U({type:"end",description:"end of input"});throw oz(null,uz,Cz)}}return{SyntaxError:b,parse:A}}()});var hB=Lz((nK,rB)=>{function bK(P){var b=[],A=[],V="",f=Object.create(null),K=f,e=!1;return c(P);function c(C){var O;for(var v=0;v<C.length;v++)switch(O=C[v],O.type){case"Assign":Zz(O);break;case"ObjectPath":u(O);break;case"ArrayPath":D(O);break}return f}function r(C,O,v){var m=Error(C);throw m.line=O,m.column=v,m}function Zz(C){var{key:O,value:v,line:m,column:F}=C,_;if(V)_=V+"."+O;else _=O;if(typeof K[O]<"u")r("Cannot redefine existing key '"+_+"'.",m,F);if(K[O]=Bz(v),!X(_))b.push(_),A.push(_)}function X(C){return b.indexOf(C)!==-1}function Bz(C){if(C.type==="Array")return G(C.value);else if(C.type==="InlineTable")return Jz(C.value);else return C.value}function Jz(C){var O=Object.create(null);for(var v=0;v<C.length;v++){var m=C[v];if(m.value.type==="InlineTable")O[m.key]=Jz(m.value.value);else if(m.type==="InlineTableValue")O[m.key]=Bz(m.value)}return O}function u(C){var O=C.value,v=O.map(l).join("."),m=C.line,F=C.column;if(X(v))r("Cannot redefine existing key '"+O+"'.",m,F);b.push(v),K=i(f,O,Object.create(null),m,F),V=O}function D(C){var O=C.value,v=O.map(l).join("."),m=C.line,F=C.column;if(!X(v))b.push(v);if(b=b.filter(function(k){return k.indexOf(v)!==0}),b.push(v),K=i(f,O,[],m,F),V=v,K instanceof Array){var _=Object.create(null);K.push(_),K=_}else r("Cannot redefine existing key '"+O+"'.",m,F)}function i(C,O,v,m,F){var _=[],k="",g=O.join("."),h=C;for(var p=0;p<O.length;p++){var s=O[p];if(_.push(s),k=_.join("."),typeof h[s]>"u")if(p===O.length-1)h[s]=v;else h[s]=Object.create(null);else if(p!==O.length-1&&A.indexOf(k)>-1)r("Cannot redefine existing key '"+k+"'.",m,F);if(h=h[s],h instanceof Array&&h.length&&p<O.length-1)h=h[h.length-1]}return h}function G(C){var O=null;for(var v=0;v<C.length;v++){var m=C[v];if(O===null)O=m.type;else if(m.type!==O)r("Cannot add value of type "+m.type+" to array of type "+O+".",m.line,m.column)}return C.map(Bz)}function l(C){if(C.indexOf(".")>-1)return'"'+C+'"';else return C}}rB.exports={compile:bK}});var dB=Lz((dK,nB)=>{var _K=oB(),PK=hB();nB.exports={parse:function(P){var b=_K.parse(P.toString());return PK.compile(b)}}});var AB=jK(dB(),1);import{existsSync as Fz,mkdirSync as vK,writeFileSync as mK,readFileSync as IB}from"fs";import{join as EB,resolve as LB}from"path";import{spawn as xK}from"child_process";import{createHash as SK}from"crypto";import{generate as fK}from"orval";var FB=new Map,DK=(P)=>P,iK=(P,b)=>({name:"openapi",action:`uv run --no-sync apx openapi ${P} ${b}`}),tK=({input:P,output:b})=>({name:"orval",action:async()=>{if(!Fz(P)){console.warn(`[apx] OpenAPI spec not found at ${P}, skipping Orval generation`);return}let A=IB(P,"utf-8"),V=SK("sha256").update(A).digest("hex");if(FB.get(P)===V){console.log("[apx] OpenAPI spec unchanged, skipping Orval generation");return}await fK({input:P,output:b}),FB.set(P,V)}});function kK(P={}){let{steps:b=[],ignore:A=[]}=P,V,f=null,K=!1,e=[],c=!1,r=[];function Zz(G){return new Promise((l,C)=>{if(K){console.log(`[apx] Skipping command (stopping): ${G}`),l();return}console.log(`[apx] Executing: ${G}`);let O=G.split(/\s+/),v=O[0],m=O.slice(1),F=process.env.APX_PIPE_OUTPUT==="1",_=xK(v,m,{stdio:F?"pipe":"inherit",shell:!0,detached:!1});if(F&&_.stdout&&_.stderr)_.stdout.on("data",(k)=>{process.stdout.write(k)}),_.stderr.on("data",(k)=>{process.stderr.write(k)});if(r.push(_),_.on("error",(k)=>{console.error("[apx] Process error:",k),C(k)}),_.on("exit",(k,g)=>{if(r=r.filter((h)=>h.pid!==_.pid),g)console.log(`[apx] Process ${_.pid} exited with signal: ${g}`),l();else if(k!==0)console.error(`[apx] Process ${_.pid} exited with code: ${k}`),C(Error(`Command failed with exit code ${k}`));else l()}),K&&_.pid)console.log(`[apx] Killing process ${_.pid} (stopping)`),X(_)})}function X(G){if(!G.pid)return;try{if(process.platform!=="win32")process.kill(-G.pid,"SIGTERM"),console.log(`[apx] Sent SIGTERM to process group -${G.pid}`);else G.kill("SIGTERM"),console.log(`[apx] Sent SIGTERM to process ${G.pid}`)}catch(l){console.error(`[apx] Error killing process ${G.pid}:`,l);try{G.kill("SIGKILL")}catch(C){}}}async function Bz(G){if(K){console.log("[apx] Skipping action (stopping)");return}if(u(),typeof G==="string")await Zz(G);else{if(K)return;await G()}u()}async function Jz(){if(K){console.log("[apx] Skipping steps (stopping)");return}if(c){console.log("[apx] Steps already running, skipping...");return}console.log(`[apx] Running ${b.length} step(s)...`),c=!0;try{for(let G of b){if(K){console.log("[apx] Stopping during step execution");break}let l=Date.now();try{console.log(`[apx] ${G.name} ⏳`),await Bz(G.action),console.log(`[apx] ${G.name} ✓ (${Date.now()-l} ms)`)}catch(C){throw console.error(`[apx] ${G.name} ✗`,C),C}}console.log("[apx] All steps completed")}finally{c=!1}}function u(){if(!V){console.error("[apx] outDir is not set");return}try{if(!Fz(V))vK(V,{recursive:!0});let G=EB(V,".gitignore");if(!Fz(G))mK(G,`*
`)}catch(G){console.error("[apx] failed to ensure output directory:",G)}}function D(){if(K)return;if(console.log(`[apx] Stopping... (${r.length} child processes)`),K=!0,f)clearTimeout(f),f=null;if(r.length>0)console.log(`[apx] Killing ${r.length} child process(es)...`),r.forEach((G)=>{if(G.pid)X(G)}),r=[];console.log("[apx] Stopped")}function i(){K=!1,f=null,c=!1,r=[]}return{name:"apx",apply:()=>!0,configResolved(G){V=LB(G.root,G.build.outDir),e=A.map((l)=>LB(process.cwd(),l)),i(),u()},configureServer(G){G.httpServer?.once("close",()=>{console.log("[apx] Server closing, stopping plugin..."),D()}),u()},async buildStart(){if(u(),b.length>0)await Jz()},handleHotUpdate(G){if(u(),K){console.log("[apx] HMR update ignored (stopping)");return}if(e.some((l)=>G.file.includes(l)))return;if(console.log(`[apx] HMR update detected: ${G.file}`),f)clearTimeout(f);f=setTimeout(async()=>{if(f=null,K)return;u(),await Jz(),u()},100),f.unref()},writeBundle(){u()},closeBundle(){u(),D()}}}function aK(){let P=EB(process.cwd(),"pyproject.toml"),b=AB.default.parse(IB(P,"utf-8"));return{appName:b.tool.apx.metadata["app-name"],appModule:b.tool.apx.metadata["app-module"]}}var cK=kK;export{aK as readMetadata,cK as default,kK as apx,DK as Step,tK as Orval,iK as OpenAPI};

//# debugId=D6F3BA359A50143564756E2164756E21
//# sourceMappingURL=index.js.map
